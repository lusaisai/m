!function(){var a=function(a){this.divID="lyricer",this.currentcss="lyricer-current-line",this.lineidPrefix="lyricer-line",this.totalShowLines=8,a&&(this.setLrc(a),this.setHtml())};a.prototype.setLrc=function(a){this.tags={},this.lrc=[],this.rangeLrc=[];for(var b=/.*\[([a-z]+):(.*)\].*/,c=/.*\[([0-9]+):([0-9.]+)\](.*)/,d=a.split(/[\r\n]/),e=0;e<d.length;e++){var f=b.exec(d[e]);if(f&&f[0])this.tags[f[1]]=f[2];else{var g=c.exec(d[e]);g&&g[0]&&this.lrc.push({starttime:60*parseInt(g[1])+parseFloat(g[2]),line:g[3]})}}this.lrc.sort(function(a,b){return a.starttime-b.starttime});for(var h=0,i="",e=0;e<this.lrc.length;e++)endtime=parseFloat(this.lrc[e].starttime),this.rangeLrc.push({starttime:h,endtime:endtime,line:i}),h=endtime,i=this.lrc[e].line;this.rangeLrc.push({starttime:h,endtime:999.99,line:i}),this.totalLines=this.rangeLrc.length,this.setHtml()},a.prototype.setHtml=function(){this.currentLine=0;var a=document.getElementById(this.divID);a.innerHTML="";var b=document.createElement("ul");a.appendChild(b);for(var c=0;c<this.totalLines;c++){var d=document.createElement("li");d.innerHTML=this.rangeLrc[c].line,d.innerHTML||(d.innerHTML="&nbsp;"),d.setAttribute("id",this.lineidPrefix+c),c==this.currentLine&&(d.className=this.currentcss),b.appendChild(d)}for(var c=this.totalShowLines;c<this.totalLines;c++)document.getElementById(this.lineidPrefix+c).style.display="none"},a.prototype.move=function(a){for(var c=0;c<this.totalLines;c++)if(a>=this.rangeLrc[c].starttime&&a<this.rangeLrc[c].endtime)return this.currentLine=c,b(this,this.currentLine),void 0};var b=function(a,b){for(var c=b-a.totalShowLines,d=b+a.totalShowLines,e=0;e<a.totalLines;e++){var f=document.getElementById(a.lineidPrefix+e);f.style.display=e>=c&&d>=e?"block":"none",f.className=e==b?a.currentcss:""}};window.Lyricer=a}();