!function(){var a=function(a){this.divID="lyricer",this.currentcss="lyricer-current-line",this.lineidPrefix="lyricer-line",this.totalShowLines=8,a&&(this.setLrc(a),this.setHtml())};a.prototype.setLrc=function(a){this.tags={},this.lrc=[],this.rangeLrc=[];for(var e,b=/.*\[([a-z]+):(.*)\].*/,c=/.*\[([0-9]+):([0-9.]+)\](.*)/,d=a.split(/[\r\n]/),f=0;f<d.length;f++)e=b.exec(d[f]),e&&e[0]?this.tags[e[1]]=e[2]:(lrc=c.exec(d[f]),lrc&&lrc[0]&&this.lrc.push({starttime:60*parseInt(lrc[1])+parseFloat(lrc[2]),line:lrc[3]}));this.lrc.sort(function(a,b){return a.starttime-b.starttime});for(var g=0,h="",f=0;f<this.lrc.length;f++)endtime=parseFloat(this.lrc[f].starttime),this.rangeLrc.push({starttime:g,endtime:endtime,line:h}),g=endtime,h=this.lrc[f].line;this.rangeLrc.push({starttime:g,endtime:999.99,line:h}),this.totalLines=this.rangeLrc.length,this.setHtml()},a.prototype.setHtml=function(){this.currentLine=0;var a=document.getElementById(this.divID);a.innerHTML="";var b=document.createElement("ul");a.appendChild(b);for(var c=0;c<this.totalLines;c++){var d=document.createElement("li");d.innerHTML=this.rangeLrc[c].line,d.innerHTML||(d.innerHTML="&nbsp;"),d.setAttribute("id",this.lineidPrefix+c),c==this.currentLine&&(d.className=this.currentcss),b.appendChild(d)}for(var c=this.totalShowLines;c<this.totalLines;c++)document.getElementById(this.lineidPrefix+c).style.display="none"},a.prototype.move=function(a){for(var c=0;c<this.totalLines;c++)if(a>=this.rangeLrc[c].starttime&&a<this.rangeLrc[c].endtime)return this.currentLine=c,b(this,this.currentLine),void 0};var b=function(a,b){for(var c=b-a.totalShowLines,d=b+a.totalShowLines,e=0;e<a.totalLines;e++){var f=document.getElementById(a.lineidPrefix+e);f.style.display=e>=c&&d>=e?"block":"none",f.className=e==b?a.currentcss:""}};window.Lyricer=a}();